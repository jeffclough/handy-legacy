#!/usr/bin/env python

import json,optparse,os,pprint,sys

op=optparse.OptionParser(
  usage="%prog [OPTIONS] [filename] ...",
  description="Read JSON data from the given file(s) or from standard input, and write it in an indented format to make it easier to read."
)
opt,args=op.parse_args()

def read_data(f):
  "Read JSON from the given stream. Write it in indented format to stdout."

  pprint.pprint(json.load(f))

if not sys.stdin.isatty():
  read_data(sys.stdin)
for filename in args:
  f=open(filename)
  read_data(f)
  f.close()
